var m=Object.defineProperty;var u=(i,t,e)=>t in i?m(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var a=(i,t,e)=>(u(i,typeof t!="symbol"?t+"":t,e),e);import{ab as p,_ as d,W as _,C as h,n as f}from"./index.5c4cb14.js";import{P as v,a as T}from"./PaneHeader.5c4cb14.js";var g=Object.defineProperty,C=Object.getOwnPropertyDescriptor,c=(i,t,e,s)=>{for(var r=s>1?void 0:s?C(t,e):t,n=i.length-1,l;n>=0;n--)(l=i[n])&&(r=(s?l(t,e,r):l(r))||r);return s&&r&&g(t,e,r),r};let o=class extends p(v){constructor(){super(...arguments);a(this,"customId","");a(this,"_reloadTimeout");a(this,"$refs")}get locked(){return this.$store.state[this.paneId].locked}get url(){return this.$store.state[this.paneId].url||"https://alternative.me/crypto/fear-and-greed-index.png"}get interactive(){return this.$store.state[this.paneId].interactive}get invert(){return this.$store.state[this.paneId].invert}get reloadTimer(){return this.$store.state[this.paneId].reloadTimer}get zoom(){return this.$store.state.panes.panes[this.paneId].zoom}get style(){const e=1/this.zoom*100;return{transform:`scale(${this.zoom})`,width:e+"%",height:e+"%",pointerEvents:this.interactive?"all":"none"}}get trimmedUrl(){return this.url.length<=33?this.url:this.url.slice(0,15)+"[...]"+this.url.substr(-15)}onReloadTimerChange(){this.setupReloadTimer()}created(){this.setupReloadTimer()}getSettingsDialog(){return d(()=>import("./WebsiteDialog.5c4cb14.js"),["WebsiteDialog.5c4cb14.js","index.5c4cb14.js","index.5c4cb14.css","paneDialogMixin.5c4cb14.js"])}beforeDestroy(){this._reloadTimeout&&clearTimeout(this._reloadTimeout)}setupReloadTimer(){if(this._reloadTimeout&&clearTimeout(this._reloadTimeout),!this.reloadTimer)return;let e=this.reloadTimer.trim();if(/[\d.]+s/.test(e)?e=parseFloat(e)*1e3:/[\d.]+h/.test(e)?e=parseFloat(e)*1e3*60*60:e=parseFloat(e)*1e3*60,!e)return;const s=Date.now();let r=Math.ceil(s/e)*e-s-20;r<1e3&&(r+=e),this._reloadTimeout=setTimeout(()=>{this._reloadTimeout=null,this.reload(),this.setupReloadTimer()},r)}async reload(e){this.$refs.iframe.src+="",e&&(this.$refs.iframe.onload=()=>{this.$refs.iframe.onload=null,this.$refs.iframe.focus()})}};c([_("reloadTimer")],o.prototype,"onReloadTimerChange",1);o=c([h({components:{PaneHeader:T},name:"Website"})],o);var b=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"pane-website"},[e("pane-header",{ref:"paneHeader",attrs:{paneId:t.paneId,settings:()=>d(()=>import("./WebsiteDialog.5c4cb14.js"),["WebsiteDialog.5c4cb14.js","index.5c4cb14.js","index.5c4cb14.css","paneDialogMixin.5c4cb14.js"]),"show-search":!1},scopedSlots:t._u([{key:"menu",fn:function(){return[e("div",{staticClass:"dropdown-item"},[e("label",{staticClass:"checkbox-control -small",on:{click:function(s){s.stopPropagation()}}},[e("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.interactive},on:{change:function(s){return t.$store.commit(t.paneId+"/TOGGLE_INTERACTIVE")}}}),e("div"),e("span",[t._v("Interactive")])])]),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(s){return t.reload(!0)}}},[e("i",{staticClass:"icon-refresh"}),e("span",[t._v("Reload")])]),e("div",{staticClass:"dropdown-divider"})]},proxy:!0}])}),t.locked?e("div",{staticClass:"iframe__lock"},[e("div",{staticClass:"ml8 mr8"},[e("p",[t._v(" Load "),e("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"text-condensed",attrs:{title:"url"},domProps:{textContent:t._s(t.trimmedUrl)}}),t._v(" ? ")]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn",on:{click:function(s){return t.$store.commit(t.paneId+"/UNLOCK_URL")}}},[t._v(" Yes, authorize ")])])])]):e("div",{staticClass:"iframe__wrapper"},[e("iframe",{ref:"iframe",class:t.invert&&"-solid",style:t.style,attrs:{src:t.url,frameborder:"0",width:"100%",height:"100%",scrolling:!t.interactive&&"no"}})])],1)},$=[],y=f(o,b,$,!1,null,"26365d7b",null,null);const R=y.exports;export{R as default};
